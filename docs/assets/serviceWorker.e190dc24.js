async function o(){if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/sw.js");console.log("ServiceWorker registration successful with scope: ",e.scope),e.addEventListener("updatefound",()=>{const r=e.installing;r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&a()})}),await t(e)}catch(e){console.error("ServiceWorker registration failed: ",e)}}async function t(e){try{await e.update(),e.waiting&&a()}catch(r){console.error("Error checking for service worker update:",r)}}function a(){Notify.create({message:"A new version is available. Please refresh to update.",color:"primary",actions:[{label:"Refresh",handler:()=>{window.location.reload()}}]})}var i=async()=>{await o()};setInterval(()=>{navigator.serviceWorker.getRegistration().then(t)},60*60*1e3);export{i as default};
