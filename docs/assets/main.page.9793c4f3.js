import{c as _,a as o,h as m,d as B,S as H,U as z,r as I,V as O,H as T,W as U,g as S,i as L,e as f,l as W,f as M,X as G,z as x,A as E,B as t,C as l,Y as v,Q as P,Z as Q,_ as p,L as X,$ as Y,a0 as Z,a1 as J}from"./index.d7ac5daa.js";import{u as F,a as N,b as ee,Q as te}from"./store.2e1c3e02.js";import"./axios.03dae6bc.js";import"./notify.6197f80f.js";var h=_({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:i}){const s=o(()=>parseInt(e.lines,10)),a=o(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(s.value===1?" ellipsis":"")),c=o(()=>e.lines!==void 0&&s.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":s.value}:null);return()=>m("div",{style:c.value,class:a.value},B(i.default))}}),g=_({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:i}){const s=o(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>m("div",{class:s.value},B(i.default))}}),y=_({name:"QItem",props:{...F,...H,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:i,emit:s}){const{proxy:{$q:a}}=S(),c=N(e,a),{hasLink:u,linkAttrs:r,linkClass:d,linkTag:C,navigateOnClick:K}=z(),q=I(null),k=I(null),$=o(()=>e.clickable===!0||u.value===!0||e.tag==="label"),b=o(()=>e.disable!==!0&&$.value===!0),R=o(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(c.value===!0?" q-item--dark":"")+(u.value===!0&&e.active===null?d.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(b.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),V=o(()=>{if(e.insetLevel===void 0)return null;const n=a.lang.rtl===!0?"Right":"Left";return{["padding"+n]:16+e.insetLevel*56+"px"}});function j(n){b.value===!0&&(k.value!==null&&(n.qKeyEvent!==!0&&document.activeElement===q.value?k.value.focus():document.activeElement===k.value&&q.value.focus()),K(n))}function A(n){if(b.value===!0&&O(n,[13,32])===!0){T(n),n.qKeyEvent=!0;const w=new MouseEvent("click",n);w.qKeyEvent=!0,q.value.dispatchEvent(w)}s("keyup",n)}function D(){const n=U(i.default,[]);return b.value===!0&&n.unshift(m("div",{class:"q-focus-helper",tabindex:-1,ref:k})),n}return()=>{const n={ref:q,class:R.value,style:V.value,role:"listitem",onClick:j,onKeyup:A};return b.value===!0?(n.tabindex=e.tabindex||"0",Object.assign(n,r.value)):$.value===!0&&(n["aria-disabled"]="true"),m(C.value,n,D())}}});const ae=["ul","ol"];var ne=_({name:"QList",props:{...F,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:i}){const s=S(),a=N(e,s.proxy.$q),c=o(()=>ae.includes(e.tag)?null:"list"),u=o(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>m(e.tag,{class:u.value,role:c.value},B(i.default))}}),le=_({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:i}){const{proxy:{$q:s}}=S(),a=L(W,f);if(a===f)return console.error("QPage needs to be a deep child of QLayout"),f;if(L(M,f)===f)return console.error("QPage needs to be child of QPageContainer"),f;const u=o(()=>{const d=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof e.styleFn=="function"){const C=a.isContainer.value===!0?a.containerHeight.value:s.screen.height;return e.styleFn(d,C)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-d+"px":s.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":s.screen.height-d+"px"}}),r=o(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>m("main",{class:r.value,style:u.value},B(i.default))}});const re=Object.assign({name:"MainPage"},{__name:"main.page",setup(e){L("notify");const i=ee();G();const s=async()=>{await i.notify()},a=async()=>{await i.getSubscriptions()};return(c,u)=>(x(),E(le,null,{default:t(()=>[l(ne,null,{default:t(()=>[l(h,{header:""},{default:t(()=>u[1]||(u[1]=[v("Subscriptions")])),_:1}),l(y,null,{default:t(()=>[l(g,null,{default:t(()=>[l(P,{onClick:a},{default:t(()=>u[2]||(u[2]=[v("Get subscriptions")])),_:1})]),_:1})]),_:1}),l(y,null,{default:t(()=>[l(g,null,{default:t(()=>[v(Q(p(i).subscriptions),1)]),_:1})]),_:1}),l(h,{header:""},{default:t(()=>u[3]||(u[3]=[v("Notifications")])),_:1}),l(y,null,{default:t(()=>[l(g,null,{default:t(()=>[l(P,{onClick:s},{default:t(()=>u[4]||(u[4]=[v("Notify")])),_:1})]),_:1})]),_:1}),l(y,null,{default:t(()=>[l(g,null,{default:t(()=>[l(te,{modelValue:p(i).global.id,"onUpdate:modelValue":u[0]||(u[0]=r=>p(i).global.id=r)},{prepend:t(()=>[l(X,{name:"fingerprint"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),(x(!0),Y(J,null,Z(p(i).notifications,r=>(x(),E(y,{key:r},{default:t(()=>[l(g,null,{default:t(()=>[l(h,null,{default:t(()=>[v(Q(r.title),1)]),_:2},1024),l(h,{caption:""},{default:t(()=>[v(Q(r.body),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))}});export{re as default};
